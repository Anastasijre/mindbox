# –†–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Kubernetes

## 1. Deployment (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
–Ø –≤—ã–±—Ä–∞–ª–∞ **Deployment** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∞–º–∏, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —É–¥–æ–±–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
‚úÖ **4 —Ä–µ–ø–ª–∏–∫–∏** ‚Äì —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–ª—è–ª–æ—Å—å —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π.  
‚úÖ **–†–µ—Å—É—Ä—Å—ã CPU –∏ –ø–∞–º—è—Ç–∏** ‚Äì –≤—ã–¥–µ–ª–∏–ª–∞ 0.1 CPU –∏ 128M –ø–∞–º—è—Ç–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã, —Å —É—á–µ—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ –≤–Ω–∞—á–∞–ª–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤.  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** ‚Äì –¥–æ–±–∞–≤–∏–ª–∞ –∏—Ö —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω—É–∂–Ω–æ 5-10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.  
‚úÖ **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º** ‚Äì –Ω–∞—Å—Ç—Ä–æ–∏–ª–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ–¥—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–ª–∏—Å—å –ø–æ —Ä–∞–∑–Ω—ã–º –∑–æ–Ω–∞–º, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.

## 2. Service (–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é)
–°–æ–∑–¥–∞–ª–∞ **ClusterIP-—Å–µ—Ä–≤–∏—Å**, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ –º–æ–≥–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

### –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
üîπ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç **80** ‚Üí —Ü–µ–ª–µ–≤–æ–π –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **8080**.

## 3. Horizontal Pod Autoscaler (–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
–£—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –¥–Ω–µ–º –Ω–∞–≥—Ä—É–∑–∫–∞ –≤—ã—Å–æ–∫–∞—è, –∞ –Ω–æ—á—å—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –¥–æ–±–∞–≤–∏–ª–∞ **HPA** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
üìà **–î–Ω–µ–º** ‚Äì –¥–æ 4 –ø–æ–¥–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.  
üìâ **–ù–æ—á—å—é** ‚Äì –¥–æ 2 –ø–æ–¥–æ–≤ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

---

## –ü–æ—á–µ–º—É —Ç–∞–∫ —Ä–µ—à–∏–ª–∞?
üîπ **Deployment** ‚Äì —ç—Ç–æ –≥–∏–±–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∞–º–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ—Ç–∫–∞—Ç–∞ –≤–µ—Ä—Å–∏–π.  
üîπ **4 —Ä–µ–ø–ª–∏–∫–∏** ‚Äì –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.  
üîπ **–ü—Ä–æ–≤–µ—Ä–∫–∏ (readiness/liveness)** ‚Äì –æ–Ω–∏ –≤–∞–∂–Ω—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ —É—á–∏—Ç—ã–≤–∞—è –¥–æ–ª–≥–∏–π —Å—Ç–∞—Ä—Ç.  
üîπ **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º** ‚Äì —ç—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–¥–Ω–∞ –∑–æ–Ω–∞ —É–ø–∞–¥–µ—Ç.  
üîπ **HPA** ‚Äì –Ω–æ—á—å—é –Ω–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞, –∏ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –¥–µ—Ä–∂–∞—Ç—å 4 –ø–æ–¥–∞. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å?
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.  
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤—Ä–æ–¥–µ `hey` –∏–ª–∏ `k6`).  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus/Grafana.

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?
üî∏ –î–æ–±–∞–≤–∏—Ç—å **CronJob** –¥–ª—è –Ω–æ—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
üî∏ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Prometheus –∏ Grafana).  
üî∏ –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HPA, –µ—Å–ª–∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è.

---

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –∏–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å! üòä
